# 画廊瀑布流布局说明

## 概述

将画廊页面从单列堆叠布局改为类似 Pixiv 的多列瀑布流布局，图片保持原始比例，每张图片下方显示标题和爱心收藏按钮。

## 文件改动

### 1. HTML (`static/html/sum.html`)

**新增结构：**
```html
<div class="gallery-container">
    <div class="gallery-item">
        <div class="image-wrapper">
            <img src="..." alt="...">
        </div>
        <div class="item-info">
            <span class="item-title">作品标题</span>
            <button class="like-btn">♡</button>
        </div>
    </div>
    <!-- 更多图片卡片... -->
</div>
```

**结构说明：**
- `gallery-container` - 画廊容器，使用 CSS 多列布局
- `gallery-item` - 单个图片卡片
- `image-wrapper` - 图片包装器，用于悬停缩放效果
- `item-info` - 信息栏，包含标题和爱心按钮

### 2. CSS (`static/css/gallery.css`)

**核心布局：**
```css
.gallery-container {
    column-count: 5;      /* 5列布局 */
    column-gap: 16px;     /* 列间距 */
}

.gallery-item {
    break-inside: avoid;  /* 防止卡片被分割 */
}

.gallery-item img {
    height: auto;         /* 保持图片原始比例 */
}
```

**响应式设计：**
| 屏幕宽度 | 列数 |
|---------|-----|
| ≥1200px | 5列 |
| 992-1199px | 4列 |
| 768-991px | 3列 |
| 481-767px | 2列 |
| ≤480px | 2列 |

**深色模式支持：**
- 亮色模式：白色卡片背景 + 深色文字
- 深色模式：`#2a2a2a` 卡片背景 + 白色文字

### 3. JavaScript (`static/js/gallery.js`)

**功能：**
1. 点击图片区域 → 打开 Lightbox 大图预览
2. 点击爱心按钮 → 切换收藏状态（♡ ↔ ♥）
3. ESC 键 / 点击背景 → 关闭大图

## 效果预览

- 图片以瀑布流形式排列，自动填充空间
- 图片保持原始宽高比，不会被裁剪成正方形
- 悬停时卡片上浮 + 图片缓慢放大
- 点击可查看大图，支持 Miku 绿发光效果

