# 侧边导航栏使用说明

## 📋 功能特性

✅ **汉堡菜单** - 点击左上角按钮打开/关闭导航栏  
✅ **竖向侧边栏** - 从左侧滑出的导航菜单  
✅ **主题切换** - 浅色/深色模式切换  
✅ **可展开菜单** - 支持二级子菜单  
✅ **响应式设计** - 适配移动端和桌面端  
✅ **平滑动画** - 所有交互都有流畅的过渡效果  
✅ **遮罩层** - 点击遮罩可关闭导航栏  
✅ **ESC关闭** - 按ESC键快速关闭  
✅ **Miku主题色** - 使用统一的颜色变量  

---

## 📁 文件结构

```
static/
├── css/
│   ├── colors.css        # 颜色变量（必需）
│   └── navbar.css        # 导航栏样式（新建）
├── js/
│   └── navbar.js         # 导航栏交互逻辑（新建）
└── html/
    └── index.html        # 内容页面
```

---

## 🎨 导航栏组成

### 1. 汉堡菜单按钮
```html
<button class="menu-toggle">
    <span></span>  <!-- 三条横线 -->
    <span></span>
    <span></span>
</button>
```
- 固定在左上角
- 点击切换导航栏显示/隐藏
- 悬停时变成Miku色

### 2. 侧边栏容器
```html
<nav class="sidebar">
    <!-- 导航内容 -->
</nav>
```
- 默认隐藏在左侧
- 添加 `.active` 类时滑出
- 宽度280px，移动端250px

### 3. 头部标题
```html
<div class="sidebar-header">
    <h1 class="sidebar-title">Miku画廊</h1>
</div>
```

### 4. 主题切换
```html
<div class="theme-toggle">
    <span class="theme-icon">☀️</span>
    <span class="theme-text">浅色模式</span>
</div>
```
- 点击切换浅色/深色模式
- 自动切换图标和文字

### 5. 导航菜单
```html
<ul class="nav-menu">
    <li class="nav-item">
        <a href="#" class="nav-link">
            <span class="nav-icon">🏠</span>
            <span class="nav-text">首页</span>
        </a>
    </li>
</ul>
```

### 6. 可展开菜单
```html
<li class="nav-item expandable">
    <a href="#" class="nav-link">
        <span class="nav-icon">📖</span>
        <span class="nav-text">关于本站</span>
        <span class="expand-icon">▼</span>
    </a>
    <ul class="sub-menu">
        <!-- 子菜单项 -->
    </ul>
</li>
```

---

## 🔧 如何使用

### 引入文件
在HTML的 `<head>` 中引入CSS：
```html
<link rel="stylesheet" href="../css/colors.css">
<link rel="stylesheet" href="../css/navbar.css">
```

在 `</body>` 前引入JavaScript：
```html
<script src="../js/navbar.js"></script>
```

### 添加导航栏
复制完整的导航栏HTML结构到你的页面中。

---

## ✏️ 自定义导航菜单

### 添加普通菜单项
```html
<li class="nav-item">
    <a href="#your-section" class="nav-link">
        <span class="nav-icon">😊</span>
        <span class="nav-text">你的菜单</span>
    </a>
</li>
```

### 添加可展开菜单
```html
<li class="nav-item expandable">
    <a href="#" class="nav-link">
        <span class="nav-icon">📚</span>
        <span class="nav-text">分类菜单</span>
        <span class="expand-icon">▼</span>
    </a>
    <ul class="sub-menu">
        <li class="nav-item">
            <a href="#sub1" class="nav-link">
                <span class="nav-text">子菜单1</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="#sub2" class="nav-link">
                <span class="nav-text">子菜单2</span>
            </a>
        </li>
    </ul>
</li>
```

### 常用图标参考
- 🏠 首页
- 📖 关于
- 🖼️ 图片
- 🎬 视频
- 🎵 音乐
- ⚙️ 设置
- 💡 教程
- 📧 联系
- 🎨 创作
- 📱 应用

---

## 🎨 样式自定义

### 修改导航栏宽度
```css
.sidebar {
    width: 320px;  /* 默认280px */
    left: -320px;  /* 要和宽度一致 */
}
```

### 修改主题色
在 `colors.css` 中修改：
```css
:root {
    --miku-color: rgb(255, 182, 193);  /* 改成你喜欢的颜色 */
}
```

### 修改动画速度
```css
.sidebar {
    transition: left 0.5s ease;  /* 默认0.3s */
}
```

### 修改菜单项高度
```css
.nav-link {
    padding: 20px 20px;  /* 默认18px */
}
```

---

## 💻 JavaScript功能

### 自动激活当前页面
脚本会自动为当前页面的菜单项添加 `.active` 类：
```javascript
const currentPath = window.location.pathname;
// 自动匹配并高亮当前页面对应的菜单项
```

### 手动打开/关闭导航栏
```javascript
// 打开
document.querySelector('.sidebar').classList.add('active');
document.querySelector('.sidebar-overlay').classList.add('active');

// 关闭
document.querySelector('.sidebar').classList.remove('active');
document.querySelector('.sidebar-overlay').classList.remove('active');
```

### 展开/收起菜单
```javascript
document.querySelector('.nav-item.expandable').classList.toggle('expanded');
```

---

## 🎯 交互说明

### 打开导航栏
- 点击左上角汉堡菜单按钮
- 导航栏从左侧滑出
- 出现半透明遮罩层

### 关闭导航栏
- 再次点击汉堡菜单按钮
- 点击遮罩层
- 按 ESC 键

### 展开子菜单
- 点击带有下箭头的菜单项
- 箭头旋转180度
- 子菜单滑出

### 主题切换
- 点击"浅色模式"
- 切换为深色模式
- 图标和文字自动更新

---

## 📱 响应式设计

### 桌面端（>768px）
- 导航栏宽度：280px
- 汉堡按钮固定左上角

### 移动端（≤768px）
- 导航栏宽度：250px
- 自动适配小屏幕

---

## 🎨 深色模式

### 自动切换的样式
- 背景色变深
- 文字变亮
- 导航栏背景变深
- 按钮颜色反转

### 手动控制深色模式
```javascript
// 启用深色模式
document.body.classList.add('dark-mode');

// 禁用深色模式
document.body.classList.remove('dark-mode');
```

---

## 🐛 常见问题

### Q: 点击汉堡按钮没反应？
A: 确保JavaScript文件放在 `</body>` 之前，且路径正确。

### Q: 导航栏样式不正确？
A: 确保先引入 `colors.css`，再引入 `navbar.css`。

### Q: 子菜单展开不了？
A: 确保菜单项有 `.expandable` 类，且包含 `.sub-menu`。

### Q: 主题色没有生效？
A: 确保 `colors.css` 中定义了 `--miku-color` 和 `--miku-color-rgb`。

---

## 🚀 进阶功能

### 添加搜索框
```html
<div class="sidebar-search">
    <input type="text" placeholder="搜索...">
</div>
```

### 添加用户信息
```html
<div class="sidebar-user">
    <img src="avatar.jpg" alt="头像">
    <span>用户名</span>
</div>
```

### 添加底部信息
```html
<div class="sidebar-footer">
    <p>© 2024 Miku画廊</p>
</div>
```

---

## 📝 完整示例

查看 `static/html/index.html` 获取完整的HTML结构示例。

---

## ✨ 特色功能

1. **平滑过渡** - 所有动画都使用CSS transition
2. **毛玻璃效果** - 使用 `backdrop-filter` 实现模糊背景
3. **悬停效果** - 菜单项悬停时会向右移动并高亮
4. **主题色统一** - 全部使用 `var(--miku-color)` 变量
5. **无障碍** - 支持键盘操作（ESC关闭）

---

## 🎉 效果预览

打开 `static/html/index.html`，你会看到：
- 左上角有一个汉堡菜单按钮
- 点击后从左侧滑出导航栏
- 包含主题切换、菜单项、子菜单等功能
- 整体风格简洁现代，使用Miku主题色

完美！🎨

