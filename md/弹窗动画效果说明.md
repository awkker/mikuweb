# å¼¹çª—åŠ¨ç”»æ•ˆæœè¯´æ˜

## æ¦‚è¿°

é¡¹ç›®ä¸­çš„å¼¹çª—ï¼ˆModal / Lightboxï¼‰é‡‡ç”¨ç»Ÿä¸€çš„åŠ¨ç”»æ•ˆæœï¼šæ¯›ç»ç’ƒæ¸å˜èƒŒæ™¯ + å¼¹æ€§ç¼©æ”¾åŠ¨ç”»ï¼Œæä¾›æµç•…çš„è§†è§‰ä½“éªŒã€‚

## æ¶‰åŠæ–‡ä»¶

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `blog-layout/modal.css` | åšå®¢æ–‡ç« è¯¦æƒ…å¼¹çª— |
| `gallery/lightbox.css` | ç”»å»Šå¤§å›¾é¢„è§ˆå¼¹çª— |

## æ ¸å¿ƒåŸç†

### ä¸ºä»€ä¹ˆä¸ç”¨ `display: none`ï¼Ÿ

```css
/* âŒ é”™è¯¯åšæ³• - åŠ¨ç”»ä¸ç”Ÿæ•ˆ */
.modal {
    display: none;
    opacity: 0;
    transition: opacity 0.3s;
}
.modal.active {
    display: flex;  /* display ä¸æ”¯æŒè¿‡æ¸¡ï¼Œç¬é—´åˆ‡æ¢ */
    opacity: 1;
}

/* âœ… æ­£ç¡®åšæ³• - åŠ¨ç”»ç”Ÿæ•ˆ */
.modal {
    display: flex;      /* å§‹ç»ˆä¿æŒ flex */
    visibility: hidden; /* ç”¨ visibility æ§åˆ¶æ˜¾éš */
    opacity: 0;
    transition: all 0.3s;
}
.modal.active {
    visibility: visible;
    opacity: 1;
}
```

**åŸå› **ï¼š`display` å±æ€§ä¸åœ¨ CSS å¯åŠ¨ç”»å±æ€§åˆ—è¡¨ä¸­ï¼Œåˆ‡æ¢æ—¶æ˜¯ç¬é—´å®Œæˆçš„ã€‚è€Œ `visibility` æ”¯æŒè¿‡æ¸¡ï¼Œå¯ä»¥é…åˆ `opacity` å®ç°æ·¡å…¥æ·¡å‡ºã€‚

## åŠ¨ç”»å®ç°

### 1. é®ç½©å±‚åŠ¨ç”»

```css
.article-modal {
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(0px);    /* åˆå§‹ä¸æ¨¡ç³Š */
    display: flex;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.article-modal.active {
    opacity: 1;
    visibility: visible;
    backdrop-filter: blur(8px);    /* æ¿€æ´»æ—¶æ¯›ç»ç’ƒæ•ˆæœ */
}
```

**æ•ˆæœ**ï¼šèƒŒæ™¯ä»æ¸…æ™°æ¸å˜åˆ°æ¨¡ç³Šï¼ˆæ¯›ç»ç’ƒæ•ˆæœï¼‰

### 2. å†…å®¹å¼¹æ€§åŠ¨ç”»

```css
.modal-content {
    transform: scale(0.8);         /* åˆå§‹ç¼©å° */
    opacity: 0;
    /* ğŸŒŸ å¼¹æ€§æ›²çº¿ - å…ˆå¿«åæ…¢ï¼Œå¸¦å›å¼¹ */
    transition: transform 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.275),
                opacity 0.3s ease;
}

.article-modal.active .modal-content {
    transform: scale(1);           /* æ¢å¤æ­£å¸¸å¤§å° */
    opacity: 1;
}
```

**æ•ˆæœ**ï¼šå†…å®¹ä»å°å˜å¤§ï¼Œå¸¦æœ‰è½»å¾®çš„å¼¹è·³æ„Ÿ

### 3. å¼¹æ€§æ›²çº¿è§£æ

```
cubic-bezier(0.175, 0.885, 0.32, 1.275)
              â”‚       â”‚      â”‚      â”‚
              â”‚       â”‚      â”‚      â””â”€â”€ ç»“æŸç‚¹ Y > 1ï¼Œäº§ç”Ÿå›å¼¹
              â”‚       â”‚      â””â”€â”€ æ§åˆ¶ç‚¹2 X
              â”‚       â””â”€â”€ æ§åˆ¶ç‚¹1 Y
              â””â”€â”€ æ§åˆ¶ç‚¹1 X
```

è¿™æ¡æ›²çº¿çš„ç‰¹ç‚¹ï¼š
- å¼€å§‹æ—¶åŠ é€Ÿè¾ƒå¿«
- ç»“æŸæ—¶ä¼šç•¥å¾®è¶…è¿‡ç›®æ ‡å€¼å†å›å¼¹
- äº§ç”Ÿç±»ä¼¼å¼¹ç°§çš„ç‰©ç†æ•ˆæœ

## å®Œæ•´åŠ¨ç”»æ—¶é—´çº¿

```
æ—¶é—´è½´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

0ms                                           350ms
â”‚                                               â”‚
â”œâ”€â”€ é®ç½©å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   opacity: 0 â†’ 1 (300ms)                      â”‚
â”‚   backdrop-filter: blur(0) â†’ blur(8px)        â”‚
â”‚                                               â”‚
â”œâ”€â”€ å¼¹çª—å†…å®¹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   opacity: 0 â†’ 1 (300ms)                      â”‚
â”‚   scale: 0.8 â†’ 1.0 â†’ 1.02 â†’ 1.0 (350ms å¼¹æ€§)  â”‚
â”‚                    â†‘                          â”‚
â”‚                  å›å¼¹ç‚¹                        â”‚
```

## ä½¿ç”¨ç¤ºä¾‹

### HTML ç»“æ„

```html
<!-- é®ç½©å±‚ -->
<div class="article-modal" id="modal">
    <!-- å†…å®¹å®¹å™¨ -->
    <div class="modal-content">
        <img src="..." alt="">
        <div class="modal-body">
            <h2>æ ‡é¢˜</h2>
            <p>å†…å®¹...</p>
        </div>
    </div>
    <!-- å…³é—­æŒ‰é’® -->
    <span class="modal-close">&times;</span>
</div>
```

### JavaScript æ§åˆ¶

```javascript
const modal = document.getElementById('modal');

// æ‰“å¼€å¼¹çª—
function openModal() {
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';  // é˜²æ­¢èƒŒæ™¯æ»šåŠ¨
}

// å…³é—­å¼¹çª—
function closeModal() {
    modal.classList.remove('active');
    document.body.style.overflow = '';
}
```

## å…³é—­æŒ‰é’®åŠ¨ç”»

```css
.modal-close {
    transition: transform 0.3s ease;
}

.modal-close:hover {
    transform: rotate(90deg);  /* æ‚¬åœæ—‹è½¬ 90Â° */
}
```

## æ³¨æ„äº‹é¡¹

1. **visibility çš„ç‰¹ç‚¹**
   - `visibility: hidden` å…ƒç´ ä¸å¯è§ä½†å æ®ç©ºé—´
   - é…åˆ `opacity: 0` ä½¿ç”¨ï¼Œæ—¢èƒ½éšè—åˆèƒ½è¿‡æ¸¡

2. **backdrop-filter å…¼å®¹æ€§**
   - Safari éœ€è¦ `-webkit-backdrop-filter` å‰ç¼€
   - éƒ¨åˆ†æ—§æµè§ˆå™¨ä¸æ”¯æŒï¼Œä¼šé™çº§ä¸ºçº¯è‰²èƒŒæ™¯

3. **æ€§èƒ½ä¼˜åŒ–**
   - `transform` å’Œ `opacity` æ˜¯ GPU åŠ é€Ÿå±æ€§
   - é¿å…åŠ¨ç”» `width`ã€`height`ã€`top`ã€`left` ç­‰è§¦å‘é‡æ’çš„å±æ€§

4. **å…³é—­åŠ¨ç”»**
   - ç§»é™¤ `.active` ç±»æ—¶ï¼ŒåŠ¨ç”»ä¼šåå‘æ’­æ”¾
   - æ— éœ€é¢å¤–å†™å…³é—­åŠ¨ç”»

