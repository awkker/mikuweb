# ä¸»æ¡†æž¶ç³»ç»Ÿè¯´æ˜Ž

## æ¦‚è¿°

ä½¿ç”¨ iframe å®žçŽ°çš„ä¸»æ¡†æž¶ç³»ç»Ÿï¼Œè®©ä¾§è¾¹å¯¼èˆªæ å’ŒéŸ³ä¹æ’­æ”¾å™¨åœ¨é¡µé¢åˆ‡æ¢æ—¶ä¿æŒå›ºå®šä¸å˜ï¼Œæä¾›æµç•…çš„æµè§ˆä½“éªŒã€‚

## æ–‡ä»¶ç»“æž„

```
static/
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ main-frame.css      # iframeå¸ƒå±€æ ·å¼ï¼ˆ37è¡Œï¼‰
â”‚   â””â”€â”€ navbar.css          # ä¾§è¾¹å¯¼èˆªæ  + iframeæ¨¡å¼æ”¯æŒ
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ main-frame.js       # å¯¼èˆªé“¾æŽ¥æ‹¦æˆªï¼Œåœ¨iframeä¸­åŠ è½½
â”‚   â”œâ”€â”€ navbar.js           # ä¾§è¾¹æ é€»è¾‘ + iframeæ£€æµ‹
â”‚   â””â”€â”€ music_aplayer.js    # APlayeræ’­æ”¾å™¨é…ç½®
â””â”€â”€ html/
    â””â”€â”€ main.html           # ä¸»æ¡†æž¶å…¥å£é¡µé¢
```

## é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜° â”‚                                            â”‚
â”œâ”€â”€â”€â”¤                                            â”‚
â”‚   â”‚                                            â”‚
â”‚ ä¾§â”‚           iframe å†…å®¹åŒºåŸŸ                   â”‚
â”‚ è¾¹â”‚          (åµŒå…¥å„ä¸ªå­é¡µé¢)                   â”‚
â”‚ æ â”‚                                            â”‚
â”‚   â”‚         z-index: 1                         â”‚
â”‚z:1000                                          â”‚
â”œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      ðŸŽµ APlayer (fixedæ¨¡å¼, è‡ªåŠ¨å¸åº•)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒå®žçŽ°

### 1. main-frame.css - iframeå¸ƒå±€

```css
.content-frame {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
    /* å¹³æ»‘è¿‡æ¸¡åŠ¨ç”» */
    transition: left 0.3s ease, width 0.3s ease;
}

/* ä¾§è¾¹æ æ‰“å¼€æ—¶ï¼Œiframeè·Ÿç€ç§»åŠ¨ */
body.sidebar-open .content-frame {
    left: 280px;
    width: calc(100% - 280px);
}
```

### 2. navbar.js - iframeæ£€æµ‹

```javascript
// æ£€æµ‹æ˜¯å¦åœ¨iframeä¸­è¿è¡Œ
if (window.self !== window.top) {
    document.body.classList.add('in-iframe');
    return;  // ä¸åˆ›å»ºå¯¼èˆªæ 
}
```

### 3. main-frame.js - å¯¼èˆªé“¾æŽ¥æ‹¦æˆª

```javascript
// ç‚¹å‡»ä¾§è¾¹æ é“¾æŽ¥æ—¶ï¼Œåœ¨iframeä¸­åŠ è½½é¡µé¢
link.addEventListener('click', function(e) {
    e.preventDefault();
    iframe.src = this.getAttribute('href');
});
```

### 4. APlayer - éŸ³ä¹æ’­æ”¾å™¨

```javascript
const ap = new APlayer({
    container: document.getElementById('aplayer'),
    fixed: true,         // è‡ªåŠ¨å¸åº•
    theme: '#39c5bb',    // Mikuç»¿ä¸»é¢˜
    // ...
});
```

## å¯¼èˆªç»“æž„

| å¯¼èˆªé¡¹ | ç›®æ ‡é¡µé¢ | è¯´æ˜Ž |
|--------|----------|------|
| é¦–é¡µ | `index.html` | ç”»å»Šä»‹ç»ä¸»é¡µ |
| ç²¾é€‰å±•åŽ… | `sum.html` | ç€‘å¸ƒæµç”»å»Š |
| ç”»å¸ˆå‰¯å±•åŽ… â–¼ | ä¸‹æ‹‰èœå• | |
| â””â”€ æŠ¹èŒ¶è€å¸ˆ | `cn_Matcha.html` | æ¨±èŠ±èƒŒæ™¯ |
| â””â”€ æ—­é…±è€å¸ˆ | `cn_xvjiang.html` | å¤å¤èƒŒæ™¯ |
| â””â”€ è±†ã®ç´ è€å¸ˆ | `dousu.html` | ç³–æžœèƒŒæ™¯ |

## åŠ¨ç”»æ•ˆæžœ

- **ä¾§è¾¹æ ** - 0.3s ease æ»‘å…¥/æ»‘å‡º
- **iframe** - 0.3s ease è·Ÿéšç§»åŠ¨
- **æ±‰å ¡æŒ‰é’®** - 0.3s å˜å½¢ä¸ºXå›¾æ ‡

## å“åº”å¼è®¾è®¡

| å±å¹•å®½åº¦ | è¡Œä¸º |
|----------|------|
| > 768px | ä¾§è¾¹æ æŽ¨ç§»æ¨¡å¼ï¼Œiframeè·Ÿç€ç§»åŠ¨ |
| â‰¤ 768px | ä¾§è¾¹æ é®ç½©æ¨¡å¼ï¼Œiframeä¸ç§»åŠ¨ |

## ä½¿ç”¨æ–¹å¼

### è®¿é—®å…¥å£

```
static/html/main.html
```

### æ·»åŠ æ–°éŸ³ä¹

åœ¨ `music_aplayer.js` çš„ `audio` æ•°ç»„ä¸­æ·»åŠ ï¼š

```javascript
{
    name: 'æ­Œæ›²å',
    artist: 'è‰ºæœ¯å®¶',
    url: '../images/music/xxx.mp3',
    cover: '../images/music/musicimage/xxx.jpg',
    lrc: '../images/music/lrc/xxx.lrc'
}
```

## æ³¨æ„äº‹é¡¹

1. **è·¯å¾„** - éŸ³ä¹æ–‡ä»¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„ `../images/music/...`
2. **å­é¡µé¢** - åœ¨iframeä¸­è‡ªåŠ¨éšè—å¯¼èˆªæ ï¼ˆé€šè¿‡ `.in-iframe` ç±»ï¼‰
3. **z-indexå±‚çº§** - ä¾§è¾¹æ (1000) > APlayer > iframe(1)

