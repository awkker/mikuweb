# åšå®¢ç€‘å¸ƒå¼å±•å¼€é˜…è¯»åŠŸèƒ½

> ä¸€é•œåˆ°åº•çš„æ²‰æµ¸å¼é˜…è¯»ä½“éªŒ

## åŠŸèƒ½æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„åšå®¢æ–‡ç« é˜…è¯»æ–¹å¼ï¼Œç‚¹å‡»æ–‡ç« å¡ç‰‡åï¼Œå¡ç‰‡ä¼šåŸåœ°"ç€‘å¸ƒå¼å±•å¼€"ï¼Œæ˜¾ç¤ºå®Œæ•´çš„ Markdown æ–‡ç« å†…å®¹ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„å¼¹çª—æ¨¡å¼ã€‚

### æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | æè¿° |
|------|------|
| ğŸŒŠ ç€‘å¸ƒå±•å¼€ | ç‚¹å‡»å¡ç‰‡åï¼Œå¡ç‰‡åŸåœ°å¹³æ»‘å±•å¼€ |
| ğŸ–¼ï¸ å›¾ç‰‡ä¸Šç§» | å±•å¼€åå°é¢å›¾è‡ªåŠ¨ç§»åŠ¨åˆ°å†…å®¹é¡¶éƒ¨ |
| ğŸ“– å…¨æ–‡é˜…è¯» | Markdown å†…å®¹ç›´æ¥åœ¨å¡ç‰‡å†…æ¸²æŸ“ |
| ğŸ‘¤ ä½œè€…æ¡†ç¼©å° | å±•å¼€æ—¶å³ä¾§ä½œè€…ä¿¡æ¯å¡ç‰‡ä¼˜é›…ç¼©å° |
| ğŸ¬ ä¸€é•œåˆ°åº• | æ‰€æœ‰åŠ¨ç”»ä½¿ç”¨ cubic-bezier ç¼“åŠ¨å‡½æ•° |
| â¬†ï¸ å›åˆ°é¡¶éƒ¨ | æ»šåŠ¨åæ˜¾ç¤ºæ‚¬æµ®æŒ‰é’® |

---

## æ–‡ä»¶ç»“æ„

```
static/
â”œâ”€â”€ css/blog-layout/
â”‚   â”œâ”€â”€ index.css          # ä¸»å…¥å£ï¼Œå¼•å…¥æ‰€æœ‰æ¨¡å—
â”‚   â”œâ”€â”€ article-card.css   # æ–‡ç« å¡ç‰‡åŸºç¡€æ ·å¼
â”‚   â”œâ”€â”€ blog-expand.css    # ğŸ†• å±•å¼€é˜…è¯»æ ¸å¿ƒæ ·å¼
â”‚   â”œâ”€â”€ modal.css          # å›¾æ–‡å¼¹çª—æ ·å¼ï¼ˆå¤‡ç”¨ï¼‰
â”‚   â”œâ”€â”€ author-card.css    # ä½œè€…ä¿¡æ¯å¡ç‰‡
â”‚   â”œâ”€â”€ responsive.css     # å“åº”å¼é€‚é…
â”‚   â””â”€â”€ dark-mode.css      # æ·±è‰²ä¸»é¢˜
â”œâ”€â”€ js/
â”‚   â””â”€â”€ blog-layout.js     # å±•å¼€/å¼¹çª—é€»è¾‘æ§åˆ¶
â””â”€â”€ html/
    â””â”€â”€ blog.html          # åšå®¢é¡µé¢
```

---

## ä½¿ç”¨æ–¹å¼

### ä¸¤ç§æ¨¡å¼è‡ªåŠ¨è¯†åˆ«

JS ä¼šæ ¹æ®å¡ç‰‡æ˜¯å¦æœ‰ `data-md` å±æ€§ï¼Œè‡ªåŠ¨é€‰æ‹©ä¸åŒçš„å±•ç¤ºæ¨¡å¼ï¼š

```html
<!-- åšå®¢æ–‡ç« ï¼šæœ‰ data-mdï¼Œä¼šä½¿ç”¨ç€‘å¸ƒå¼å±•å¼€ -->
<div class="article-card" data-md="../../md/æ–‡ç« .md">
    <div class="article-info">
        <h2 class="article-title">æ–‡ç« æ ‡é¢˜</h2>
        <p class="article-excerpt">æ–‡ç« æ‘˜è¦...</p>
        <span class="article-date">2025-12-10</span>
    </div>
    <div class="article-cover">
        <img src="å°é¢å›¾.jpg" alt="å°é¢">
    </div>
</div>

<!-- å›¾æ–‡ä½œå“ï¼šæ²¡æœ‰ data-mdï¼Œä¼šä½¿ç”¨å¼¹çª—æ¨¡å¼ -->
<div class="article-card">
    <div class="article-info">
        <h2 class="article-title">ä½œå“æ ‡é¢˜</h2>
        <p class="article-excerpt">ä½œå“ä»‹ç»...</p>
    </div>
    <div class="article-cover">
        <img src="ä½œå“å›¾.jpg" alt="ä½œå“">
    </div>
</div>
```

---

## æ ¸å¿ƒå®ç°

### 1. å±•å¼€åŠ¨ç”» (CSS)

```css
/* å±•å¼€çŠ¶æ€çš„æ–‡ç« å¡ç‰‡ */
.article-card.expanded {
    flex-direction: column;  /* å˜ä¸ºçºµå‘å¸ƒå±€ */
    cursor: default;
}

/* å›¾ç‰‡ä»å³å¾€å·¦å±•å¼€åŠ¨ç”» */
.article-card.expanded .article-cover {
    width: 100%;
    height: 300px;
    order: -1;  /* ç§»åˆ°æœ€å‰é¢ï¼ˆé¡¶éƒ¨ï¼‰ */
    animation: slideFromRight 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes slideFromRight {
    0% {
        clip-path: inset(0 0 0 70%);  /* ä»å³è¾¹å¼€å§‹ */
        opacity: 0.8;
    }
    100% {
        clip-path: inset(0 0 0 0);    /* å®Œå…¨æ˜¾ç¤º */
        opacity: 1;
    }
}
```

### 2. å±•å¼€é€»è¾‘ (JS)

```javascript
// ç‚¹å‡»å¡ç‰‡æ—¶ï¼Œæ ¹æ®æ˜¯å¦æœ‰ data-md å†³å®šè¡Œä¸º
document.querySelectorAll('.article-card').forEach(card => {
    card.addEventListener('click', function() {
        if (this.dataset.md) {
            // æœ‰ markdown æ–‡ä»¶ -> å±•å¼€æ¨¡å¼
            expandArticle(this);
        } else {
            // æ²¡æœ‰ markdown æ–‡ä»¶ -> å¼¹çª—æ¨¡å¼
            openModal(this);
        }
    });
});

// å±•å¼€æ–‡ç« 
function expandArticle(card) {
    // 1. åˆ›å»ºå±•å¼€å†…å®¹å®¹å™¨
    const expandContent = document.createElement('div');
    expandContent.className = 'article-expand-content';
    expandContent.innerHTML = '<div class="markdown-body"></div>';
    card.appendChild(expandContent);
    
    // 2. æ·»åŠ å±•å¼€çŠ¶æ€
    card.classList.add('expanded');
    blogWrapper.classList.add('has-expanded');
    
    // 3. åŠ è½½ Markdown å†…å®¹
    loadMarkdown(card.dataset.md, markdownContainer);
    
    // 4. å¹³æ»‘æ»šåŠ¨åˆ°å¡ç‰‡
    card.scrollIntoView({ behavior: 'smooth', block: 'start' });
}
```

### 3. ä½œè€…æ¡†ç¼©å°æ•ˆæœ

```css
/* å½“æœ‰æ–‡ç« å±•å¼€æ—¶ï¼Œä½œè€…ä¾§è¾¹æ ç¼©å° */
.blog-wrapper.has-expanded .author-sidebar {
    width: 200px;
    transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.blog-wrapper.has-expanded .author-avatar {
    width: 80px;
    height: 80px;
}
```

---

## äº¤äº’æ–¹å¼

| æ“ä½œ | æ•ˆæœ |
|------|------|
| ç‚¹å‡»å¡ç‰‡ | å±•å¼€æ–‡ç« ï¼ˆæœ‰ data-mdï¼‰æˆ–æ‰“å¼€å¼¹çª— |
| ç‚¹å‡»ã€Œæ”¶èµ·æ–‡ç« ã€æŒ‰é’® | æ”¶èµ·å±•å¼€çš„æ–‡ç«  |
| æŒ‰ ESC é”® | æ”¶èµ·æ–‡ç« æˆ–å…³é—­å¼¹çª— |
| ç‚¹å‡»å³ä¸‹è§’æµ®åŠ¨æŒ‰é’® | æ»šåŠ¨å›æ–‡ç« é¡¶éƒ¨ |

---

## ä¾èµ–åº“

å±•å¼€é˜…è¯»åŠŸèƒ½éœ€è¦ä»¥ä¸‹ CDN åº“æ¥æ¸²æŸ“ Markdownï¼š

```html
<!-- Markdown è§£æ -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<!-- HTML æ¸…æ´—ï¼ˆå®‰å…¨ï¼‰ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.8/purify.min.js"></script>
<!-- ä»£ç é«˜äº® -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<!-- GitHub é£æ ¼æ ·å¼ -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.5.0/github-markdown-light.min.css">
```

---

## å“åº”å¼é€‚é…

### æ¡Œé¢ç«¯ (> 992px)
- æ–‡ç« å¡ç‰‡ï¼šå·¦ä¾§æ–‡å­—ï¼Œå³ä¾§å›¾ç‰‡
- å±•å¼€åï¼šå›¾ç‰‡ç§»åˆ°é¡¶éƒ¨ï¼Œä½œè€…æ¡†ç¼©å°

### å¹³æ¿ç«¯ (768px - 992px)
- ä½œè€…æ¡†ç§»åˆ°é¡¶éƒ¨ï¼Œæ¨ªå‘å¸ƒå±€
- å±•å¼€æ—¶ä½œè€…æ¡†ä¸ç¼©å°

### æ‰‹æœºç«¯ (< 768px)
- å¡ç‰‡çºµå‘æ’åˆ—ï¼Œå›¾ç‰‡åœ¨ä¸Š
- å±•å¼€åå…¨å®½æ˜¾ç¤º

---

## æ€»ç»“

è¿™å¥—ç€‘å¸ƒå¼å±•å¼€é˜…è¯»ç³»ç»Ÿå®ç°äº†ï¼š

1. **æ— åˆ·æ–°é˜…è¯»**ï¼šç‚¹å‡»å³å±•å¼€ï¼Œé˜…è¯»å®Œæ”¶èµ·ï¼Œä¸éœ€è¦è·³è½¬é¡µé¢
2. **ä¸€é•œåˆ°åº•åŠ¨ç”»**ï¼šå›¾ç‰‡ä»å³å¾€å·¦å±•å¼€ï¼Œä¿¡æ¯æ·¡å…¥ï¼Œä½œè€…æ¡†ç¼©å°
3. **åŒæ¨¡å¼å…¼å®¹**ï¼šæœ‰ Markdown æ–‡ä»¶çš„å±•å¼€é˜…è¯»ï¼Œæ²¡æœ‰çš„ç”¨å¼¹çª—æŸ¥çœ‹
4. **å®Œæ•´å“åº”å¼**ï¼šæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºéƒ½èƒ½æ­£å¸¸ä½¿ç”¨
5. **æ·±è‰²æ¨¡å¼æ”¯æŒ**ï¼šè‡ªåŠ¨é€‚é…æ·±è‰²ä¸»é¢˜
